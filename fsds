[33mcommit 2642cf98d0ac4a4a765ed6b35336ecdfba911126[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmain[m[33m, [m[1;31morigin/main[m[33m)[m
Author: Bashkim Grepi <bashkim.grepi@gmail.com>
Date:   Wed Sep 17 16:56:24 2025 +0300

    major update. mobile app features added

[33mcommit 01754f668ac2ddf120e2a93cab99b67217821b1e[m
Author: Bashkim Grepi <bashkim.grepi@gmail.com>
Date:   Wed Sep 10 20:06:04 2025 +0300

    folder sturcture change for /admin & /auth

[33mcommit bcd0d915b033836cb2d376f9af53b746f5ebebb0[m
Author: Bashkim Grepi <bashkim.grepi@gmail.com>
Date:   Fri Sep 5 16:04:37 2025 +0300

    pricing service for showing all the pricing policies with data for the tenant -> only one active policy at the time & CRUD policies for the pricing-policies. + controller and module

[33mcommit 8efea64278ae71274ffa437678ea30c62d790b82[m
Author: Bashkim Grepi <bashkim.grepi@gmail.com>
Date:   Fri Aug 29 21:38:32 2025 +0300

    decorators for authentication to admin, manager and driver

[33mcommit 3138a578387785f99c6e7d1bbf0822dee392c1bf[m
Author: Bashkim Grepi <bashkim.grepi@gmail.com>
Date:   Fri Aug 29 16:31:28 2025 +0300

    exporting payments

[33mcommit b362632758ad539c47a87919fb8f78b53176dc58[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:49:20 2025 +0300

    refactor: clean up tenant ID extraction in reports controller

[33mcommit c9f0e3f896ac88ee2ddc64b05e53a6bc025ef42f[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:48:43 2025 +0300

    cleanup: remove empty driver auth controller file

[33mcommit d917c526ce9fb4978f92a6f5bf4e0a4265cc4bdb[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:48:05 2025 +0300

    cleanup: remove obsolete driver seeding script

[33mcommit 5e3c4905d8c74894a4b33b9c7f949210def5f659[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:47:40 2025 +0300

    deps: add puppeteer for PDF generation in export system

[33mcommit 053b63cb23dd77f50dabe5d63587dd305e25566a[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:47:23 2025 +0300

    feat: integrate ExportsModule into main application

[33mcommit cf42b006dc14f88f858dc2cb298b7a8db9d401f7[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:47:00 2025 +0300

    feat: implement comprehensive payment export system
    
    - Add ExportDataService for VAT calculations and payment aggregation
    - Add NumberingService for sequential receipt numbering per period
    - Add SnapshotService for deterministic export generation with SHA256 hashing
    - Add PdfService with Puppeteer for PDF generation
    - Add ExportsController for download endpoints with file persistence
    - Support Finnish VAT rate transitions (10% -> 14% from 2025-01-01)
    - Include export archiving and exception handling

[33mcommit 413ebca0aafb9dafaeb06d7f0d304e60b1e011d7[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:46:33 2025 +0300

    refactor: improve JWT strategy validation and token type checking
    
    - Add strict token type validation (reject non-access tokens)
    - Improve tenant-scoped token handling
    - Add legacy driver token compatibility
    - Streamline tenant and role extraction logic

[33mcommit 29d6c2dbd7df786b8ec83a8a84b93a4fe99cdabc[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:45:45 2025 +0300

    feat: add DTOs for tenant selection authentication flow

[33mcommit bdc93eeec83699cc3a7ff241f557bf00ccad3277[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:45:19 2025 +0300

    feat: implement two-step authentication flow
    - Add tenant selection endpoints for both admin/manager and driver roles
    - Support loginTicket mechanism for secure tenant selection
    - Add select-tenant endpoints accepting body or header tokens
    - Enhance driver authentication with multi-tenant support

[33mcommit e6facfcc4fcfbb5973e02398b7026b2c37bb9de4[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:44:38 2025 +0300

    migration: implement payment numbering and export archive tables

[33mcommit 05dd035758fd7587d5c08b433c2082a0bbd6a134[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 27 03:44:03 2025 +0300

    feat: add Payment numbering fields and export models
    
    - Add NumberSequenceType and ExportArchiveType enums
    - Add receiptNumber, invoiceNumber, numberPeriod to Payment model
    - Add NumberSequence model for sequential numbering per tenant/period
    - Add ExportArchive model for tracking generated exports
    - Add unique constraints for receipt/invoice numbering

[33mcommit df2868050d9ed975831bd2561623763e999e0951[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Tue Aug 26 00:51:35 2025 +0300

    full prisma seed for all modals

[33mcommit 26c987d75bee762bcd6f598019110a6fa0a043db[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Fri Aug 22 22:51:18 2025 +0300

    admin controllers, decoreators, dto, guards, services & module

[33mcommit 18eb36afb1f49f9f1a48207b2353a67e02f2e956[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 20 22:58:51 2025 +0300

    OAuth integration (wont use that in first demo). ride Service, ride controller -> start/end ride

[33mcommit e3455402cb71e78f0ec20355f47139f59299f103[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Thu Aug 14 21:03:04 2025 +0300

    new OAuthState modal created and migrated to chema

[33mcommit 29e17822188a5600089b49f489842158c1be0380[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Thu Aug 14 21:01:31 2025 +0300

    Interfaces:
    - Define TypeScript contracts for OAuth flow
    - Add multi-tenant JWT payload structure
    - Ensure type safety across OAuth implementation

[33mcommit 74363aea8660f9b489185e3e2b9a8d529ae9342d[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Thu Aug 14 20:59:05 2025 +0300

    implement Stripe OAuth controller with JWT-based authorization

[33mcommit 68891d4f05c266d7089b0b4685cdd989d27fbb40[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Thu Aug 14 20:56:59 2025 +0300

    Stripe OAuth initiation service with security validations
    
    - validates tenant existence and active status
    - verifys user membership with ADMIN/MANAGER role reuirements
    - generate cryptographically secyre CSRF nonce for state protection
    - build stripe connect authorization url with proper parameters
    - adds enciromnent variable validation for OAuth configuration

[33mcommit 7c7595c659fd2efb330783ab4a2360e4c600cfab[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Wed Aug 13 02:49:39 2025 +0300

    deleted all stripe files
    - added .env.example for github to see what environment files have

[33mcommit 6546750857c2ddccdcb66e8dccc5957a6e439cdd[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Tue Aug 12 15:09:44 2025 +0300

    stipe module structure

[33mcommit 678ad99682e56f853fcf8ba2a611d3032f386db0[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Tue Aug 12 14:58:45 2025 +0300

    Comments for jwt workflow

[33mcommit 7dd0360f2dca7799861cdd061380fc6fb668796d[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Mon Aug 11 18:05:48 2025 +0300

    docs(testing): add comprehensive Postman testing collection
    
    - Add complete Postman collection for driver profile management testing
    - Include automated token management and environment variables
    - Provide detailed testing guide with troubleshooting steps
    - Cover all endpoints: health, authentication, profile CRUD operations

[33mcommit 52b7ec3f328f28fce909e379d8e4d7d2ac907ee1[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Mon Aug 11 18:05:01 2025 +0300

    (infra): enhance loggin and fix health endpoint
    
    - Enable comprehensive logging levels for better debuggin
    - Fix health/db endpoint by adding @Public() decorator
    - Add startup loggin for better development experience

[33mcommit 8f81fb194d51e064b55e533b9bc9ea91806b6cfb[m
Author: BashkimGrepi <bashkim.grepi@gmail.com>
Date:   Mon Aug 11 18:02:38 2025 +0300
